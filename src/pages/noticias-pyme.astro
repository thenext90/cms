---
import Layout from '../layouts/Layout.astro';

// Importar datos de forma más explícita para Vercel
const noticias = [
  {
    "titulo": "Encuesta refleja que el crecimiento profesional es el principal factor de interés al postular a un nuevo trabajo",
    "fecha": "19 de Agosto de 2025",
    "link_noticia": "https://www.emol.com/noticias/Economia/2025/08/19/1175396/encuesta-crecimiento-laboral.html",
    "link_imagen": "https://static.emol.cl/emol50/img/logo_txt_esocial.png",
    "fecha_scraping": "2025-08-21 06:45:30"
  },
  {
    "titulo": "Pymes en los próximos 10 años: ¿Cómo adaptarse a los cambios del mundo laboral y seguir siendo competitivo?",
    "fecha": "19 de Agosto de 2025",
    "link_noticia": "https://www.emol.com/noticias/Economia/2025/08/19/1175447/pymes-mundo-laboral-futuro.html",
    "link_imagen": "https://static.emol.cl/emol50/img/logo_txt_esocial.png",
    "fecha_scraping": "2025-08-21 06:45:32"
  },
  {
    "titulo": "\"Hazlo con IA\": el programa que acerca la inteligencia artificial a las pymes y al sector público",
    "fecha": "18 de Agosto de 2025",
    "link_noticia": "https://www.emol.com/noticias/Economia/2025/08/18/1175262/hazlo-con-ia-pymes.html",
    "link_imagen": "https://static.emol.cl/emol50/img/logo_txt_esocial.png",
    "fecha_scraping": "2025-08-21 06:45:33"
  },
  {
    "titulo": "¿Para qué sirve la Clave Tributaria? Guía práctica para entender un aspecto clave de tu negocio",
    "fecha": "18 de Agosto de 2025",
    "link_noticia": "https://www.emol.com/noticias/Economia/2025/08/18/1175277/infografia-clave-tributaria.html",
    "link_imagen": "https://static.emol.cl/emol50/img/logo_txt_esocial.png",
    "fecha_scraping": "2025-08-21 06:45:35"
  },
  {
    "titulo": "Conoce 7 habilidades clave que debe tener un líder para conducir una empresa",
    "fecha": "20 de Agosto de 2025",
    "link_noticia": "https://www.emol.com/noticias/Economia/2025/08/20/1175509/habilidades-clave-lider-empresa.html",
    "link_imagen": "https://static.emol.cl/emol50/img/logo_txt_esocial.png",
    "fecha_scraping": "2025-08-21 06:45:36"
  },
  {
    "titulo": "Estudio revela que los emprendedores no cuentan con formación financiera: 74% no ha recibido capacitación",
    "fecha": "13 de Agosto de 2025",
    "link_noticia": "https://www.emol.com/noticias/Economia/2025/08/13/1174940/estudio-pymes-capacitacion-financiera.html",
    "link_imagen": "https://static.emol.cl/emol50/img/logo_txt_esocial.png",
    "fecha_scraping": "2025-08-21 06:45:38"
  }
];
---

<Layout title="Noticias Pyme - CMS Consultores" description="Últimas noticias sobre pymes y emprendimiento por emol.com">
  <main class="min-h-screen bg-gray-50">
    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-accent-800 to-accent-900 text-white py-16">
      <div class="max-w-container mx-auto px-4 text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">
          Noticias Pyme
        </h1>
        <p class="text-xl text-accent-100 mb-2">
          Últimas noticias sobre pymes y emprendimiento
        </p>
        <p class="text-sm text-accent-200">
          por emol.com
        </p>
      </div>
    </section>

    <!-- Noticias Grid -->
    <section class="py-16">
      <div class="max-w-container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {noticias.map((noticia) => (
            <article class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
              <!-- Imagen -->
              <div class="aspect-video bg-gray-200 flex items-center justify-center">
                <img 
                  src={noticia.link_imagen} 
                  alt="Logo Emol"
                  class="h-12 object-contain opacity-80"
                />
              </div>
              
              <!-- Contenido -->
              <div class="p-6">
                <!-- Fecha -->
                <div class="flex items-center mb-3">
                  <span class="inline-block w-2 h-2 bg-accent-600 rounded-full mr-2"></span>
                  <time class="text-sm text-gray-500 font-medium">
                    {noticia.fecha}
                  </time>
                </div>
                
                <!-- Título -->
                <h3 class="text-lg font-semibold text-gray-800 mb-4 line-clamp-3 leading-tight">
                  {noticia.titulo}
                </h3>
                
                <!-- Botón Leer más -->
                <a 
                  href={noticia.link_noticia}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="inline-flex items-center text-accent-700 hover:text-accent-800 font-medium text-sm transition-colors duration-200"
                >
                  Leer noticia completa
                  <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                  </svg>
                </a>
              </div>
            </article>
          ))}
        </div>
        
        <!-- Footer de sección -->
        <div class="text-center mt-12">
          <p class="text-gray-600 text-sm">
            Noticias proporcionadas por 
            <a href="https://www.emol.com" target="_blank" rel="noopener noreferrer" class="text-accent-700 hover:text-accent-800 font-medium">
              emol.com
            </a>
          </p>
        </div>
      </div>
    </section>
  </main>
</Layout>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .aspect-video {
    aspect-ratio: 16 / 9;
  }
</style>

---
import Layout from '../layouts/Layout.astro';
import noticias from '../data/emol_pyme_noticias.json';

const now = new Date();
const month = now.toLocaleDateString('es-ES', { month: 'long' });
const year = now.getFullYear();
const fechaActual = `${month.charAt(0).toUpperCase() + month.slice(1)} ${year}`;
---

<Layout title="Noticias Pyme - CMS Consultores" description="Últimas noticias sobre pymes, extraídas de Emol.com">
  <main class="min-h-screen bg-gray-50">
    <section class="py-12 sm:py-16">
      <div class="max-w-container mx-auto px-4">
        <div class="text-center mb-10 sm:mb-12">
          <h1 class="text-3xl sm:text-4xl font-bold text-gray-800 tracking-tight">
            Noticias para Pymes
          </h1>
          <p class="mt-2 text-lg text-gray-500">{fechaActual}</p>
          <p class="mt-3 text-base sm:text-lg text-gray-600 max-w-2xl mx-auto">
            Una selección de noticias relevantes para el ecosistema pyme, por <a href="https://www.emol.com/" target="_blank" rel="noopener noreferrer" class="text-accent-700 hover:underline">emol.com</a>.
          </p>
        </div>

        <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
          {noticias.map((noticia) => (
            <a href={noticia.link_noticia} target="_blank" rel="noopener noreferrer" class="block bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden group">
              <div class="h-48 overflow-hidden">
                <img src={noticia.link_imagen} alt={`Imagen para ${noticia.titulo}`} class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105" />
              </div>
              <div class="p-5">
                <p class="text-xs text-gray-500 mb-2">{noticia.fecha}</p>
                <h2 class="text-base font-semibold text-gray-800 mb-3 leading-snug group-hover:text-accent-800 transition-colors">
                  {noticia.titulo}
                </h2>
              </div>
            </a>
          ))}
        </div>
      </div>
    </section>
  </main>
</Layout>
